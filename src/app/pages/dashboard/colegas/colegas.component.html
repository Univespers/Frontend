<main id="main">

    <!-- Search bar -->
    <section id="search-container">
        <input id="search" #searchField
            type="text"
            placeholder="Busque pelo nome, curso ou polo"
            (input)="research(searchField.value)"
            tabindex="20"/>
        <i class="search-icon fa fa-search fa-lg" (click)="search(searchField.value)"></i>
    </section>

    <!-- Colegas -->
    <section id="panel-container">
        <div id="panel">
            @if(isLoading) {
                <app-loading/>
            } @else {
                <!-- Colega -->
                <div id="card-gallery">
                    <article class="card" *ngFor="let colega of colegasList; let i = index">
                        <span class="card-title" (click)="showColegaDetails(colega.uid)" [tabindex]="21+(1*i)">{{ colega.name }}</span>
                        <span class="card-body">{{ colega.course }}</span>
                        <span class="card-body">{{ colega.pole }}</span>
                        <app-button-popup-menu class="card-details" [text]="'...'" [description]="'Opções'" [tabindex]="21+(2*i)">
                            <menu class="popup-menu">
                                <li class="popup-item" (click)="showColegaDetails(colega.uid)" [tabindex]="21+(3*i)">Detalhes</li>
                                <li class="popup-item" disabled [tabindex]="21+(4*i)">Começar uma conversa</li>
                                <li class="popup-item" disabled [tabindex]="21+(5*i)">Adicionar ao grupo</li>
                            </menu>
                        </app-button-popup-menu>
                    </article>
                </div>
                <div id="paginator">
                    <button id="back" title="Voltar" [disabled]="pageOffset == 0" (click)="prevPage();search(searchField.value)">
                        <i class="fas fa-chevron-left fa-lg"></i>
                    </button>
                    <button id="pager" title="Paginador" [disabled]="totalPages == 1">
                        ...
                    </button>
                    <button id="next" title="Avançar" [disabled]="isLastPage" (click)="nextPage();search(searchField.value)">
                        <i class="fas fa-chevron-right fa-lg"></i>
                    </button>
                </div>
            }
        </div>
    </section>

    <app-popup-dialog [(show)]="showDialog">
        <!-- Colega-Details -->
        <app-colega-details [uid]="colegaDetailsUID"/>
    </app-popup-dialog>

</main>